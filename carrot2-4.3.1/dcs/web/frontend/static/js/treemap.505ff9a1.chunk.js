(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[8],{266:function(e,t,r){"use strict";r.d(t,"a",(function(){return c}));var o=r(5),n=r(0),a=r(1),u=r(86),i=r.n(u);function c(e){var t=Object(a.useRef)(null),r=Object(a.useRef)(null);Object(a.useEffect)((()=>()=>{r.current&&(e.impl.dispose(r.current),r.current=void 0)}),[e.impl]),Object(a.useEffect)((()=>{r.current?e.impl.set(r.current,e.options):(r.current=e.impl.embed(Object(o.a)({element:t.current,pixelRatio:window.devicePixelRatio||1},e.options)),e.implRef&&e.implRef.setCurrent(r.current))}),[e.options,e.impl,e.implRef]),Object(a.useEffect)((()=>{r.current&&e.impl.set(r.current,"dataObject",e.dataObject)}),[e.dataObject,e.impl]),Object(a.useEffect)((()=>{r.current&&e.impl.select(r.current,{groups:e.selection,keepPrevious:!1})}),[e.selection,e.impl]);var u=Object(a.useRef)(new ResizeObserver(i()((()=>{r.current&&e.impl.resize(r.current)}),100)));Object(a.useEffect)((()=>{var e=t.current;return e&&u.current.observe(e),()=>{u.current.unobserve(e)}}),[e.impl]);var c={position:"absolute",top:0,bottom:0,left:0,right:0},l=e.fontFamily?Object(n.jsx)("span",{style:{fontFamily:e.fontFamily,visibility:"hidden"},children:"Font preload"}):null;return Object(n.jsxs)("div",{style:c,children:[Object(n.jsx)("div",{style:c,ref:t}),l]})}},267:function(e,t,r){"use strict";r.d(t,"a",(function(){return i})),r.d(t,"b",(function(){return c}));var o=r(20),n=r(4),a=r(1),u={},i=(e,t,r,n)=>{var i=Object(a.useState)(u),c=Object(o.a)(i,2),l=c[0],s=c[1],p=Object(a.useState)(u),b=Object(o.a)(p,2),d=b[0],g=b[1],f=Object(a.useRef)(d);return Object(a.useEffect)((()=>{var r=0;g({groups:e.map((function e(o){return{id:(r++).toString(),cluster:o,label:"".concat(o.labels.join(", ")," (").concat(o.size,")"),weight:o.unclustered?0:o.size,groups:(n?o.documents:[]).map((e=>{var o=t[e];return{id:(r++).toString(),document:o,label:o&&o.title,rank:o&&o.__rank}})).concat((o.clusters||[]).map(e))}}))})}),[e,t,n]),Object(a.useEffect)((()=>{r?(s(d),f.current=d):f.current!==d&&(s(u),f.current=d)}),[d,r]),[l]},c=(e,t,r)=>{var u=Object(a.useState)([]),i=Object(o.a)(u,2),c=i[0],l=i[1];return Object(a.useEffect)((()=>{var o=()=>{var o=r.groups;if(o){var n=[];o.forEach((function r(o){(o.cluster&&e.selected.has(o.cluster)||o.document&&t.selected.has(o.document))&&n.push(o),o.groups&&o.groups.forEach(r)})),l(n)}};return Object(n.a)(o),()=>{Object(n.c)(o)}}),[e,t,r]),[c,l]}},290:function(e,t,r){"use strict";r.r(t),r.d(t,"Treemap",(function(){return h}));var o=r(20),n=r(5),a=r(0),u=r(1),i=r(87),c=r(266),l=r(283),s={embed:e=>new l.a(e),set:(e,...t)=>{var r=a("layout")||a("stacking");if(e.set.apply(e,t),!t.dataObject&&"dataObject"!==t[0])if(r){var o=e.get("selection"),n=e.get("fadeDuration");e.set({dataObject:e.get("dataObject"),fadeDuration:0}),e.select(o),e.set("fadeDuration",n)}else e.redraw();function a(r){return e.get(r)!==t[0][r]}},select:(e,t)=>{t&&e.select({groups:t,keepPrevious:!1})},resize:e=>e.resize(),dispose:e=>e.dispose()};function p(e){return Object(a.jsx)(c.a,Object(n.a)({impl:s},e))}var b=r(12),d=r(42),g=r(267),f={groupStrokePlainLightnessShift:15,groupHoverStrokeLightnessShift:20,groupSelectionOutlineColor:"rgba(255, 255, 255, 0.6)",attributionTheme:"dark",groupColorDecorator:function(e,t,r){0===t.level&&(r.groupColor.s=t.group.cluster&&t.group.cluster.unclustered?0:60),r.groupColor.l=25,t.hasChildren||t.selected||t.hovered||(r.groupColor.a=.95),t.group.rank&&(r.groupColor.l=10+40*t.group.rank),r.labelColor="white"}},j={groupStrokePlainLightnessShift:-15,groupHoverStrokeLightnessShift:-20,attributionTheme:"light",groupSelectionOutlineColor:"rgba(0, 0, 0, 0.6)",groupColorDecorator:function(e,t,r){0===t.level&&(r.groupColor.s=t.group.cluster&&t.group.cluster.unclustered?0:60),r.groupColor.l=55,t.hasChildren||t.selected||t.hovered||(r.groupColor.a=.95),t.group.rank&&(r.groupColor.l=35+40*t.group.rank),r.labelColor="black"}};var h=({visible:e,configStore:t,implRef:r})=>{b.d.clusters.forEach((function e(t){t.clusters&&t.clusters.forEach(e)})),b.d.documents.forEach((e=>{}));var c=Object(g.a)(b.d.clusters,b.d.documents,e,t.includeResults),l=Object(o.a)(c,1)[0],s=Object(g.b)(d.a,d.b,l),h=Object(o.a)(s,1)[0],m=Object(u.useState)({}),O=Object(o.a)(m,2),v=O[0],S=O[1],k=i.b.theme;Object(u.useEffect)((()=>{S(function(e,t,r,o,a){var u="flattened"===r;return Object(n.a)({rolloutDuration:0,pullbackDuration:0,groupLabelFontFamily:"Cabin Condensed, sans-serif",wireframeDrawMaxDuration:1e3,finalCompleteDrawMaxDuration:2e4,finalIncrementalDrawMaxDuration:2e4,wireframeLabelDrawing:"always",layout:t,stacking:r,groupLabelVerticalPadding:u?.05:1,groupLabelMaxTotalHeight:u?1:.9,descriptionGroupType:"stab",descriptionGroupSize:.2,descriptionGroupMinHeight:40,descriptionGroupMaxHeight:.3,descriptionGroupPosition:"top",rectangleAspectRatioPreference:0,groupBorderWidth:2.5,groupInsetWidth:5,groupBorderRadius:.1,groupBorderRadiusCorrection:1,groupBorderWidthScaling:.6,groupFillType:"plain",groupStrokeWidth:1,groupStrokeType:"plain",groupSelectionOutlineWidth:3.5,onGroupSelectionChanged:function(e){o.replaceSelection(e.groups.filter((e=>!!e.cluster)).map((e=>e.cluster))),a.replaceSelection(e.groups.filter((e=>!!e.document)).map((e=>e.document)))},groupLabelDecorator:(e,t,r)=>{r.labelText&&r.labelText.length>80&&(r.labelText=r.labelText.substring(0,100)+"...")},titleBarDecorator:(e,t,r)=>{r.titleBarText&&r.titleBarText.length>100&&(r.titleBarText=t.group.label,r.titleBarShown=!0)},maxLabelSizeForTitleBar:12},"dark"===e?f:j)}(k,t.layout,t.stacking,d.a,d.b))}),[k,t.layout,t.stacking]);var C=0===b.d.clusters.length?Object(a.jsx)("div",{children:"No clusters to show"}):null;return Object(a.jsxs)(a.Fragment,{children:[C,Object(a.jsx)(p,{implRef:r,options:v,dataObject:l,selection:h,fontFamily:"Cabin Condensed"})]})}}}]);
//# sourceMappingURL=treemap.505ff9a1.chunk.js.map